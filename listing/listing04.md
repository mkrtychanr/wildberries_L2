# listing04

Что выведет программа? Объяснить вывод программы.

```go
package main
 
func main() {
    ch := make(chan int)
    go func() {
        for i := 0; i < 10; i++ {
            ch <- i
        }
    }()
 
    for n := range ch {
        println(n)
    }
}
```

Ответ: 

```
Вывод:
0
1
2
3
4
5
6
7
8
9

А вот тут мы поймаем дедлок...

У нас две горутины, main и анонимная, объявленная в main. Анонимная горутина
будет посылать в канал данные, после чего сразу будет находиться в спящем режиме
ожидая, что кто-то возмет эти данные. Данные будет забирать горутина main,
после чего она уйдет в спящий режим, после чего снова проснется анонимная горутина
и так будет повторяться до момента, пока не захончится цикл for в анонимной
горутине, так как она закончит свою работу, а горутина main останется спящей
из-за чего мы дедлок и поймам. Чтоб этого избежать – можно после цикла заркыть канал
что позволит нам завеоршить программу.
```